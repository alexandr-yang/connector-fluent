# КонструкторHTTP

КонструкторHTTP - обёртка для работы с [КоннекторHTTP](https://github.com/vbondarevsky/Connector) в формате текучих выражений.

## Примеры
GET https://jsonplaceholder.typicode.com/posts?userId=1

```bsl
Результат = КонструкторHTTP.Запрос()
    .Метод("GET").Сервер("jsonplaceholder.typicode.com").АдресРесурса("posts")
        .ДобавитьПараметрЗапроса("userId", 1)
    .Отправить();

Если Результат.КодСостоянияУспешно() Тогда
    Данные = Результат.ТелоОтветаКакJson();
КонецЕсли;
```

POST https://jsonplaceholder.typicode.com/posts

```bsl
Данные = Новый Структура("title,body,userId", "foo", "bar", 1);

Результат = КонструкторHTTP.Запрос()
    .МетодPOST().Сервер("jsonplaceholder.typicode.com").АдресРесурса("posts")
    .ТелоЗапроса(Данные, Истина)
    .ДобавитьЗаголовок("Content-Type", "application/json;charset=utf-8")
    .Отправить();

Если НЕ Результат.КодСостоянияУспешно() Тогда
    ОписаниеОшибки = Результат.ТелоОтветаКакИсключение();
    ВызватьИсключение(ОписаниеОшибки);
КонецЕсли;
```

POST https://jsonplaceholder.typicode.com/posts (с использованием параметров запроса)

```bsl
Параметры = КонструкторHTTP.ПараметрыЗапроса();
Параметры.Метод = КонструкторHTTP.МетодPOST();
Параметры.Сервер = "jsonplaceholder.typicode.com";
Параметры.АдресРесурса = "posts";

Данные = Новый Структура("title,body,userId", "foo", "bar", 1);

Заголовки = Новый Соответствие;
Заголовки.Вставить("Content-Type", "application/json;charset=utf-8");

Результат = КонструкторHTTP.Запрос( , Параметры)
    .ТелоЗапроса(ТелоЗапроса, Истина)
    .ДобавитьЗаголовки(Заголовки)
    .Отправить();

Если НЕ Результат.КодСостоянияУспешно() Тогда
    ОписаниеОшибки = Результат.ТелоОтветаКакИсключение();
    ВызватьИсключение(ОписаниеОшибки);
КонецЕсли;
```
